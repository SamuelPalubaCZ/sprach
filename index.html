<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sprach Machine - Number Station Simulator with advanced encryption features and audio message generation. Ideal for radio communication and cryptographic experiments.">
    <meta name="keywords" content="number station, encryption, audio generator, radio communication, cryptography, STASI, morse code">
    <meta name="author" content="SamuelPalubaCZ">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://github.com/SamuelPalubaCZ/sprach">
    <meta property="og:title" content="Sprach Machine - Number Station Simulator">
    <meta property="og:description" content="Advanced number station simulator with encryption features and audio message generation.">
    <meta property="og:image" content="https://github.com/SamuelPalubaCZ/sprach/raw/main/assets/preview.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://github.com/SamuelPalubaCZ/sprach">
    <meta property="twitter:title" content="Sprach Machine - Number Station Simulator">
    <meta property="twitter:description" content="Advanced number station simulator with encryption features and audio message generation.">
    <meta property="twitter:image" content="https://github.com/SamuelPalubaCZ/sprach/raw/main/assets/preview.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîä</text></svg>">
    
    <title>Sprach Machine - Number Station Simulator | SamuelPalubaCZ</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/normal-look.css">
    <link rel="stylesheet" href="css/components.css">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Sprach Machine",
        "description": "Number Station Simulator with advanced encryption features",
        "url": "https://github.com/SamuelPalubaCZ/sprach",
        "author": {
            "@type": "Person",
            "name": "SamuelPalubaCZ"
        },
        "applicationCategory": "MultimediaApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        }
    }
    </script>
</head>
<body>
    <div id="layout">
        <header class="header">
            <div class="header-content">
                <h1 class="brand-title">
                    <span class="icon">üîä</span>
                    Sprach Machine
                </h1>
                <h2 class="brand-tagline">Number Station Simulator & Cipher Tool</h2>
                <p class="brand-description">Advanced number station simulator with encryption features, audio message generation, and cryptographic tools</p>
            </div>
        </header>

        <main class="content">
            <!-- Message Transmitter Section -->
            <section class="program-section card">
                <div class="section-header">
                    <h2 class="content-subhead">
                        <span class="icon">üì°</span>
                        Message Transmitter
                    </h2>
                    <p class="section-description">Generate audio messages with advanced configuration options</p>
                </div>
                
                <form id="speech-form" class="pure-form pure-form-stacked" onsubmit="return false;">
                    <fieldset>
                        <legend>Basic Settings</legend>
                        
                        <div class="form-group">
                            <label for="call">Call Sign</label>
                            <input id="call" type="text" value="271" placeholder="Enter call sign">
                        </div>

                        <div class="form-group">
                            <label for="body">Message Body (Numbers only)</label>
                            <textarea rows="6" name="body" id="body" placeholder="Enter numeric message">846 846 20 20 83167 83167 14528 14528 30778 30778 13436 13436 50234 50234 67256 67256 15654 15654 27414 27414 15837 15837 75251 75251 51820 51820 37982 37982 64162 64162 18385 18385 90381 90381 77942 77942 12692 12692 22897 22897 69231 69231 14881 14881 846 846 20 20 00000</textarea>
                            <p class="help-text">
                                <span class="icon">üí°</span>
                                Use space for short pause and `_` for long pause. Special characters: `* / + #`
                            </p>
                        </div>

                        <div class="broadcast-options">
                            <h3>Broadcast Options</h3>
                            <div class="options-grid">
                                <div class="option-group">
                                    <label for="callsign-reps">Callsign Reps:</label>
                                    <input type="number" id="callsign-reps" value="2" min="1" max="10">
                                </div>
                                <div class="option-group">
                                    <label for="achtung-signal">
                                        <input type="checkbox" id="achtung-signal" checked>
                                        Play 'Achtung'
                                    </label>
                                </div>
                                <div class="option-group">
                                    <label for="auto-pause">
                                        <input type="checkbox" id="auto-pause" checked>
                                        Auto-pause
                                    </label>
                                    <input type="number" id="auto-pause-duration" value="100" min="0" step="50" style="width: 70px; margin-left: 5px;"> ms
                                </div>
                            </div>
                        </div>

                        <div class="audio-controls">
                            <h3>Audio Controls</h3>
                            <div class="controls-grid">
                                <div class="control-group">
                                    <label for="speed-control">Speed (0.5-2.0):</label>
                                    <input type="range" id="speed-control" min="0.5" max="2.0" value="1.0" step="0.1">
                                    <span class="value-display" id="speed-value">1.0</span>
                                </div>
                                <div class="control-group">
                                    <label for="pitch-control">Pitch (0.5-2.0):</label>
                                    <input type="range" id="pitch-control" min="0.5" max="2.0" value="1.0" step="0.1">
                                    <span class="value-display" id="pitch-value">1.0</span>
                                </div>
                            </div>
                        </div>

                        <button type="submit" id="generate-button" class="button-xlarge pure-button">
                            <span class="icon">üéµ</span>
                            Generate Audio File
                        </button>
                    </fieldset>
                </form>
                
                <div id="audio-output" class="audio-output" style="display: none;">
                    <h3>Generated Audio</h3>
                    <div class="audio-player">
                        <audio id="audio-playback" controls></audio>
                        <a id="download-link" href="#" download="message.wav" class="pure-button download-button">
                            <span class="icon">‚¨áÔ∏è</span>
                            Download WAV file
                        </a>
                    </div>
                </div>
            </section>

            <!-- Cipher Tool Section -->
            <section class="encryption-section card">
                <div class="section-header">
                    <h2 class="content-subhead">
                        <span class="icon">üîê</span>
                        Cipher Tool
                    </h2>
                    <p class="section-description">Advanced tools for encrypting and decrypting messages</p>
                </div>
                
                <form class="pure-form pure-form-stacked" onsubmit="return false;">
                    <fieldset>
                        <legend>Encryption & Decryption</legend>
                        
                        <div class="form-group">
                            <label for="plain-text">Plaintext</label>
                            <textarea id="plain-text" rows="4" placeholder="Enter text to encrypt"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="cipher-key">Cipher Key</label>
                            <input type="text" id="cipher-key" value="STASI" placeholder="Enter encryption key">
                        </div>

                        <div class="button-group">
                            <button id="encrypt-button" class="pure-button primary">
                                <span class="icon">üîí</span>
                                Encrypt
                            </button>
                            <button id="decrypt-button" class="pure-button secondary">
                                <span class="icon">üîì</span>
                                Decrypt
                            </button>
                        </div>

                        <div class="form-group">
                            <label for="cipher-text">Ciphertext (for decryption)</label>
                            <textarea id="cipher-text" rows="4" placeholder="Encrypted text will appear here"></textarea>
                        </div>
                        
                        <div class="button-group">
                            <button id="copy-to-body-button" class="pure-button">
                                <span class="icon">üìù</span>
                                Copy to Message Body
                            </button>
                            <button id="copy-to-clipboard-button" class="pure-button">
                                <span class="icon">üìã</span>
                                Copy to Clipboard
                            </button>
                        </div>
                    </fieldset>
                </form>
            </section>

            <!-- Manual Tones Section -->
            <section class="keypad-section card">
                <div class="section-header">
                    <h2 class="content-subhead">
                        <span class="icon">üéπ</span>
                        Manual Tones
                    </h2>
                    <p class="section-description">Manual playback of audio tones for testing</p>
                    <div class="safari-notice" style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 10px; margin: 10px 0; font-size: 0.9em;">
                        <strong>‚ö†Ô∏è Safari Users:</strong> Click anywhere on the page first to enable audio playback, then click the number buttons.
                    </div>
                </div>
                
                <nav class="nav">
                    <div class="keypad-grid">
                        <div class="keypad-row">
                            <button class="pure-button keypad-button" onclick="playSound(1,0)" type="button">1</button>
                            <button class="pure-button keypad-button" onclick="playSound(2,0)" type="button">2</button>
                            <button class="pure-button keypad-button" onclick="playSound(3,0)" type="button">3</button>
                            <button class="pure-button keypad-button" onclick="playSound(4,0)" type="button">4</button>
                            <button class="pure-button keypad-button" onclick="playSound(5,0)" type="button">5</button>
                        </div>
                        <div class="keypad-row">
                            <button class="pure-button keypad-button" onclick="playSound(6,0)" type="button">6</button>
                            <button class="pure-button keypad-button" onclick="playSound(7,0)" type="button">7</button>
                            <button class="pure-button keypad-button" onclick="playSound(8,0)" type="button">8</button>
                            <button class="pure-button keypad-button" onclick="playSound(9,0)" type="button">9</button>
                            <button class="pure-button keypad-button" onclick="playSound(0,0)" type="button">0</button>
                        </div>
                        <div class="keypad-row special-keys">
                            <button class="pure-button keypad-button special" onclick="playSound(10,0)" type="button">
                                <span class="icon">‚ö†Ô∏è</span>
                                Achtung (*)
                            </button>
                            <button class="pure-button keypad-button special" onclick="playSound(11,0)" type="button">
                                <span class="icon">‚è∏Ô∏è</span>
                                Trennung (/)
                            </button>
                            <button class="pure-button keypad-button special" onclick="playSound(12,0)" type="button">
                                <span class="icon">‚èπÔ∏è</span>
                                Ende (+)
                            </button>
                        </div>
                    </div>
                </nav>
            </section>
        </main>

        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Sprach Machine</h3>
                    <p>Advanced number station simulator with encryption features and audio message generation</p>
                </div>
                <div class="footer-section">
                    <h3>GitHub Repository</h3>
                    <a href="https://github.com/SamuelPalubaCZ/sprach" target="_blank" rel="noopener noreferrer" class="github-link">
                        <span class="icon">üìö</span>
                        SamuelPalubaCZ/sprach
                    </a>
                </div>
                <div class="footer-section">
                    <h3>License</h3>
                    <p>MIT License - Open Source</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 SamuelPalubaCZ. Built with modern web technologies.</p>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="buffer-loader.js"></script>
    <script src="sprach.js"></script>
</body>
</html>
